"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ServerSentEventsManager = void 0;
class ServerSentEventsManager {
    constructor(res, config) {
        config = config !== null && config !== void 0 ? config : {
            'Cache-control': 'no-cahe',
            'Content-Type': 'text/event-stream',
            'Connection': 'keep-alive'
        };
        res.set(config);
        res.flushHeaders();
        this.res = res;
    }
    write(status, payload) {
        this.res.status(status).write(payload);
    }
    writeObject(status, payload) {
        this.res.status(status).write(JSON.stringify(payload));
    }
    end(status, payload) {
        this.res.status(200).end(payload);
    }
}
exports.ServerSentEventsManager = ServerSentEventsManager;
//# sourceMappingURL=ServerSentEventsManager.js.map